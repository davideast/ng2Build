{"version":3,"file":"/Users/deast/Angular/angular/modules/benchmarks/src/change_detection/change_detection_benchmark.js","sources":["@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/12","change_detection_benchmark.js","@traceur/generated/TemplateParser/22","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/14","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/23"],"names":[],"mappings":"AAAA,KAAK,SAAS,AAAC,6LAAuC,UAAS,SAAQ;;ACAvE,AAAI,IAAA,CAAA,YAAW,2DAAoB,CAAC;;;;;;;;;;;;;;;ACkDpC,SAAS,eAAa,CAAC,AAAC,CAAE;AACxB,YAAQ,gBAAgB,AAAC,CAAC;AACxB,aAAO,CAAG,UAAS,GAAE,CAAE;AAAC,aAAO,CAAA,GAAE,OAAO,CAAA;MAAC;AACzC,aAAO,CAAG,UAAS,GAAE,CAAE;AAAC,aAAO,CAAA,GAAE,OAAO,CAAA;MAAC;AACzC,aAAO,CAAG,UAAS,GAAE,CAAE;AAAC,aAAO,CAAA,GAAE,OAAO,CAAA;MAAC;AACzC,aAAO,CAAG,UAAS,GAAE,CAAE;AAAC,aAAO,CAAA,GAAE,OAAO,CAAA;MAAC;AACzC,aAAO,CAAG,UAAS,GAAE,CAAE;AAAC,aAAO,CAAA,GAAE,OAAO,CAAA;MAAC;AACzC,aAAO,CAAG,UAAS,GAAE,CAAE;AAAC,aAAO,CAAA,GAAE,OAAO,CAAA;MAAC;AACzC,aAAO,CAAG,UAAS,GAAE,CAAE;AAAC,aAAO,CAAA,GAAE,OAAO,CAAA;MAAC;AACzC,aAAO,CAAG,UAAS,GAAE,CAAE;AAAC,aAAO,CAAA,GAAE,OAAO,CAAA;MAAC;AACzC,aAAO,CAAG,UAAS,GAAE,CAAE;AAAC,aAAO,CAAA,GAAE,OAAO,CAAA;MAAC;AACzC,aAAO,CAAG,UAAS,GAAE,CAAE;AAAC,aAAO,CAAA,GAAE,OAAO,CAAA;MAAC;AAAA,IAC3C,CAAC,CAAC;AACF,YAAQ,gBAAgB,AAAC,CAAC;AACxB,aAAO,CAAG,UAAS,GAAE,CAAG,CAAA,CAAA,CAAE;AAAC,aAAO,CAAA,GAAE,OAAO,EAAI,EAAA,CAAA;MAAC;AAChD,aAAO,CAAG,UAAS,GAAE,CAAG,CAAA,CAAA,CAAE;AAAC,aAAO,CAAA,GAAE,OAAO,EAAI,EAAA,CAAA;MAAC;AAChD,aAAO,CAAG,UAAS,GAAE,CAAG,CAAA,CAAA,CAAE;AAAC,aAAO,CAAA,GAAE,OAAO,EAAI,EAAA,CAAA;MAAC;AAChD,aAAO,CAAG,UAAS,GAAE,CAAG,CAAA,CAAA,CAAE;AAAC,aAAO,CAAA,GAAE,OAAO,EAAI,EAAA,CAAA;MAAC;AAChD,aAAO,CAAG,UAAS,GAAE,CAAG,CAAA,CAAA,CAAE;AAAC,aAAO,CAAA,GAAE,OAAO,EAAI,EAAA,CAAA;MAAC;AAChD,aAAO,CAAG,UAAS,GAAE,CAAG,CAAA,CAAA,CAAE;AAAC,aAAO,CAAA,GAAE,OAAO,EAAI,EAAA,CAAA;MAAC;AAChD,aAAO,CAAG,UAAS,GAAE,CAAG,CAAA,CAAA,CAAE;AAAC,aAAO,CAAA,GAAE,OAAO,EAAI,EAAA,CAAA;MAAC;AAChD,aAAO,CAAG,UAAS,GAAE,CAAG,CAAA,CAAA,CAAE;AAAC,aAAO,CAAA,GAAE,OAAO,EAAI,EAAA,CAAA;MAAC;AAChD,aAAO,CAAG,UAAS,GAAE,CAAG,CAAA,CAAA,CAAE;AAAC,aAAO,CAAA,GAAE,OAAO,EAAI,EAAA,CAAA;MAAC;AAChD,aAAO,CAAG,UAAS,GAAE,CAAG,CAAA,CAAA,CAAE;AAAC,aAAO,CAAA,GAAE,OAAO,EAAI,EAAA,CAAA;MAAC;AAAA,IAClD,CAAC,CAAC;EACJ;AAAA,AAEA,SAAS,cAAY,CAAE,UAAS,CAAG;AACjC,WAAS,UAAQ,CAAE,CAAA,CAAG;AACpB,AAAI,QAAA,CAAA,GAAE,EAAI,IAAI,IAAE,AAAC,EAAC,CAAC;AACnB,AAAI,QAAA,CAAA,KAAI,EAAI,CAAA,CAAA,EAAI,GAAC,CAAC;AAClB,QAAE,SAAS,AAAC,CAAC,KAAI,CAAG,EAAA,CAAC,CAAC;AAEtB,AAAI,QAAA,CAAA,CAAA,EAAI,IAAI,IAAE,AAAC,EAAC,CAAC;AACjB,MAAA,IAAI,EAAI,IAAE,CAAC;AACX,MAAA,cAAc,EAAI,EAAA,CAAC;AACnB,MAAA,OAAO,EAAI,CAAA,SAAQ,OAAO,AAAC,EAAC,OAAO,EAAC,MAAI,EAAG,CAAC;AAC5C,WAAO,EAAA,CAAC;IACV;AAAA,AAEI,MAAA,CAAA,IAAG,EAAI,CAAA,SAAQ,AAAC,CAAC,CAAA,CAAC,CAAC;AACvB,AAAI,MAAA,CAAA,OAAM,EAAI,KAAG,CAAC;AAClB,QAAS,GAAA,CAAA,CAAA,EAAI,EAAA,CAAG,CAAA,CAAA,EAAI,WAAS,CAAG,CAAA,CAAA,EAAE,CAAG;AACnC,AAAI,QAAA,CAAA,MAAK,EAAI,CAAA,SAAQ,AAAC,CAAC,CAAA,CAAC,CAAC;AACzB,YAAM,KAAK,EAAI,OAAK,CAAC;AACrB,YAAM,EAAI,OAAK,CAAC;IAClB;AAAA,AACA,SAAO,KAAG,CAAC;EACb;AAAA,AAEA,SAAS,qBAAmB,CAAE,UAAS,CAAG;AACxC,AAAI,MAAA,CAAA,UAAS,EAAI,IAAI,gBAAc,AAAC,EAAC,CAAC;AACtC,AAAI,MAAA,CAAA,MAAK,EAAI,IAAI,OAAK,AAAC,CAAC,GAAI,MAAI,AAAC,EAAC,CAAC,CAAC;AAEpC,AAAI,MAAA,CAAA,WAAU,EAAI,IAAI,iBAAe,AAAC,EAAC,CAAC;AACxC,AAAI,MAAA,CAAA,WAAU,EAAI,CAAA,WAAU,YAAY,AAAC,CAAC,UAAS,CAAG,CAAA,UAAS,OAAO,AAAC,EAAC,CAAC,CAAC;AAE1E,AAAI,MAAA,CAAA,aAAY,EAAI,EAClB,MAAK,aAAa,AAAC,CAAC,QAAO,CAAG,KAAG,CAAC,CAClC,CAAA,MAAK,aAAa,AAAC,CAAC,QAAO,CAAG,KAAG,CAAC,CAClC,CAAA,MAAK,aAAa,AAAC,CAAC,QAAO,CAAG,KAAG,CAAC,CAClC,CAAA,MAAK,aAAa,AAAC,CAAC,QAAO,CAAG,KAAG,CAAC,CAClC,CAAA,MAAK,aAAa,AAAC,CAAC,QAAO,CAAG,KAAG,CAAC,CAClC,CAAA,MAAK,aAAa,AAAC,CAAC,QAAO,CAAG,KAAG,CAAC,CAClC,CAAA,MAAK,aAAa,AAAC,CAAC,QAAO,CAAG,KAAG,CAAC,CAClC,CAAA,MAAK,aAAa,AAAC,CAAC,QAAO,CAAG,KAAG,CAAC,CAClC,CAAA,MAAK,aAAa,AAAC,CAAC,QAAO,CAAG,KAAG,CAAC,CAClC,CAAA,MAAK,aAAa,AAAC,CAAC,QAAO,CAAG,KAAG,CAAC,CACpC,CAAC;AAED,WAAS,MAAI,CAAE,CAAA,CAAG;AAChB,AAAI,QAAA,CAAA,GAAE,EAAI,IAAI,iBAAe,AAAC,EAAC,CAAC;AAChC,QAAE,kBAAkB,AAAC,CAAC,aAAY,CAAE,CAAA,EAAI,GAAC,CAAC,IAAI,CAAG,OAAK,CAAG,EAAA,CAAG,MAAI,CAAC,CAAC;AAClE,WAAO,IAAE,CAAC;IACZ;AAAA,AAEI,MAAA,CAAA,GAAE,EAAI,EACR,KAAI,AAAC,CAAC,CAAA,CAAC,CACP,CAAA,KAAI,AAAC,CAAC,CAAA,CAAC,CACP,CAAA,KAAI,AAAC,CAAC,CAAA,CAAC,CACP,CAAA,KAAI,AAAC,CAAC,CAAA,CAAC,CACP,CAAA,KAAI,AAAC,CAAC,CAAA,CAAC,CACP,CAAA,KAAI,AAAC,CAAC,CAAA,CAAC,CACP,CAAA,KAAI,AAAC,CAAC,CAAA,CAAC,CACP,CAAA,KAAI,AAAC,CAAC,CAAA,CAAC,CACP,CAAA,KAAI,AAAC,CAAC,CAAA,CAAC,CACP,CAAA,KAAI,AAAC,CAAC,CAAA,CAAC,CACT,CAAC;AAED,QAAS,GAAA,CAAA,CAAA,EAAI,EAAA,CAAG,CAAA,CAAA,EAAI,WAAS,CAAG,GAAE,CAAA,CAAG;AACnC,AAAI,QAAA,CAAA,GAAE,EAAI,IAAI,IAAE,AAAC,EAAC,CAAC;AACnB,AAAI,QAAA,CAAA,KAAI,EAAI,CAAA,CAAA,EAAI,GAAC,CAAC;AAClB,QAAE,SAAS,AAAC,CAAC,KAAI,CAAG,EAAA,CAAC,CAAC;AAEtB,AAAI,QAAA,CAAA,EAAC,EAAI,CAAA,GAAE,CAAE,KAAI,CAAC,YAAY,AAAC,CAAC,UAAS,CAAI,KAAG,CAAC,CAAC;AAClD,OAAC,WAAW,AAAC,CAAC,GAAE,CAAC,CAAC;AAElB,gBAAU,SAAS,AAAC,CAAC,EAAC,CAAC,CAAC;IAC1B;AAAA,AAEA,SAAO,IAAI,eAAa,AAAC,CAAC,WAAU,CAAC,CAAC;EACxC;AAAA,AAEO,SAAS,KAAG,CAAE,AAAC,CAAE;AACtB,AAAI,MAAA,CAAA,UAAS,EAAI,CAAA,eAAc,AAAC,CAAC,YAAW,CAAC,CAAC;AAE9C,iBAAa,AAAC,EAAC,CAAC;AAChB,AAAI,MAAA,CAAA,YAAW,EAAI,CAAA,aAAY,AAAC,CAAC,UAAS,CAAC,CAAC;AAC5C,AAAI,MAAA,CAAA,iBAAgB,EAAI,CAAA,oBAAmB,AAAC,CAAC,UAAS,CAAC,CAAC;AAExD,WAAS,sBAAoB,CAAC,AAAC,CAAE;AAC/B,AAAI,QAAA,CAAA,OAAM,EAAI,aAAW,CAAC;AAC1B,YAAO,SAAQ,AAAC,CAAC,OAAM,CAAC,CAAG;AACzB,WAAI,OAAM,OAAO,AAAC,CAAC,OAAM,IAAI,CAAC,CAAA,GAAM,CAAA,OAAM,cAAc,CAAG;AACzD,cAAM,oBAAkB,CAAC;QAC3B;AAAA,AACA,cAAM,EAAI,CAAA,OAAM,KAAK,CAAC;MACxB;AAAA,IACF;AAAA,AAEA,WAAS,iBAAe,CAAC,AAAC,CAAE;AAC1B,sBAAgB,cAAc,AAAC,EAAC,CAAC;IACnC;AAAA,AAEA,aAAS,AAAC,CAAC,mBAAkB,CAAG,iBAAe,CAAC,CAAC;AACjD,aAAS,AAAC,CAAC,wBAAuB,CAAG,sBAAoB,CAAC,CAAC;EAC7D;AC/KQ,AD+KR,UC/KgB,AAAC,cAAqC,CAAA;ACDtD,OAAO;AACD,UAAM,GCDZ,SAAS,CAAA;ACAT,kBAAoB,EAAA,YAAkB,CAAC;AAAvC,iBAAoB,EAAA,WAAkB,CAAC;IDE/B,CAFR,UAAS,CAAA,CAAG;ACAZ,gBAAoB,EAAA,UAAkB,CAAC;IDE/B,CAFR,UAAS,CAAA,CAAG;ACAZ,gBAAoB,EAAA,UAAkB,CAAC;IDE/B,CAFR,UAAS,CAAA;ACAT,sBAAoB,EAAA,gBAAkB,CAAC;AAAvC,iBAAoB,EAAA,WAAkB,CAAC;IDE/B,CAFR,UAAS,CAAA;ACAT,YAAoB,EAAA,MAAkB,CAAC;AAAvC,aAAoB,EAAA,OAAkB,CAAC;AAAvC,qBAAoB,EAAA,eAAkB,CAAC;AAAvC,uBAAoB,EAAA,iBAAkB,CAAC;AAAvC,uBAAoB,EAAA,iBAAkB,CAAC;IDE/B,CDDuB;AACzB,UAAM;AGFZ,YCAA,SAAQ,AAAC;AACC,AAAI,UAAA,MNad,SAAM,IAAE,KMb0C,ANwClD,CMxCmD;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,ONyB5C,QAAO,CAAP,UAAS,KAAI,CAAG,CAAA,KAAI,CAAG;AACrB,mBAAQ,KAAI;AACV,iBAAK,EAAA;AAAG,mBAAG,OAAO,EAAI,MAAI,CAAC;AAAE,qBAAK;AAAA,AAClC,iBAAK,EAAA;AAAG,mBAAG,OAAO,EAAI,MAAI,CAAC;AAAE,qBAAK;AAAA,AAClC,iBAAK,EAAA;AAAG,mBAAG,OAAO,EAAI,MAAI,CAAC;AAAE,qBAAK;AAAA,AAClC,iBAAK,EAAA;AAAG,mBAAG,OAAO,EAAI,MAAI,CAAC;AAAE,qBAAK;AAAA,AAClC,iBAAK,EAAA;AAAG,mBAAG,OAAO,EAAI,MAAI,CAAC;AAAE,qBAAK;AAAA,AAClC,iBAAK,EAAA;AAAG,mBAAG,OAAO,EAAI,MAAI,CAAC;AAAE,qBAAK;AAAA,AAClC,iBAAK,EAAA;AAAG,mBAAG,OAAO,EAAI,MAAI,CAAC;AAAE,qBAAK;AAAA,AAClC,iBAAK,EAAA;AAAG,mBAAG,OAAO,EAAI,MAAI,CAAC;AAAE,qBAAK;AAAA,AAClC,iBAAK,EAAA;AAAG,mBAAG,OAAO,EAAI,MAAI,CAAC;AAAE,qBAAK;AAAA,AAClC,iBAAK,EAAA;AAAG,mBAAG,OAAO,EAAI,MAAI,CAAC;AAAE,qBAAK;AAAA,YACpC;UACF,MMrC8D,CAAC;MACzD,AAAC,EAAC,CDJ0B,CAAA;AAApC,YCAA,SAAQ,AAAC,CAAE;AACD,AAAI,UAAA,MN0Cd,SAAM,IAAE,KM1C0C,AN+ClD,CM/CmD;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,aACkB,CAAC;MACzD,AAAC,EAAC,CDJ0B,CAAA;AAApC,wBEAA,SAAS,QAAO;AACN,AAAI,UAAA,kBPkLd,SAAM,gBAAc;AQnLpB,wBAAc,iBAAiB,AAAC,iBACL,MAAM,AAAC,CAAC,IAAG,CAAG,UAAQ,CAAC,CAAA;QDAA,APqLlD,COrLmD;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,mBPkL5C,cAAa,CAAb,UAAe,MAAK,CAAG,CAAA,OAAM,CAAG,GAChC,MOlLgE,SAAO,CAAC,CAAC;MACnE,AAAC,CP+KqB,gBAAe,CO/KlB,CFJS,CAAA;IHEL;EAC3B,CAAA;AJDI,CAAC,CAAC;AEqLV","sourceRoot":"/Users/deast/Angular/angular/modules/benchmarks/src/change_detection/","sourcesContent":["System.register($__placeholder__0, $__placeholder__1, function($__export) {\n          $__placeholder__2\n        });","var __moduleName = $__placeholder__0;","import {ListWrapper, MapWrapper} from 'facade/collection';\nimport {reflector} from 'reflection/reflection';\nimport {isPresent} from 'facade/lang';\nimport {getIntParameter, bindAction} from 'e2e_test_lib/benchmark_util';\n\nimport {\n  Lexer,\n  Parser,\n  ChangeDetector,\n  ProtoRecordRange,\n  ChangeDispatcher,\n} from 'change_detection/change_detection';\n\n\nclass Obj {\n  field0;\n  field1;\n  field2;\n  field3;\n  field4;\n  field5;\n  field6;\n  field7;\n  field8;\n  field9;\n\n\n  setField(index, value) {\n    switch (index) {\n      case 0: this.field0 = value; break;\n      case 1: this.field1 = value; break;\n      case 2: this.field2 = value; break;\n      case 3: this.field3 = value; break;\n      case 4: this.field4 = value; break;\n      case 5: this.field5 = value; break;\n      case 6: this.field6 = value; break;\n      case 7: this.field7 = value; break;\n      case 8: this.field8 = value; break;\n      case 9: this.field9 = value; break;\n    }\n  }\n}\n\nclass Row {\n  previousValue;\n  obj;\n  getter;\n  next;\n}\n\nfunction setUpReflector() {\n  reflector.registerGetters({\n    'field0': function(obj){return obj.field0},\n    'field1': function(obj){return obj.field1},\n    'field2': function(obj){return obj.field2},\n    'field3': function(obj){return obj.field3},\n    'field4': function(obj){return obj.field4},\n    'field5': function(obj){return obj.field5},\n    'field6': function(obj){return obj.field6},\n    'field7': function(obj){return obj.field7},\n    'field8': function(obj){return obj.field8},\n    'field9': function(obj){return obj.field9}\n  });\n  reflector.registerSetters({\n    'field0': function(obj, v){return obj.field0 = v},\n    'field1': function(obj, v){return obj.field1 = v},\n    'field2': function(obj, v){return obj.field2 = v},\n    'field3': function(obj, v){return obj.field3 = v},\n    'field4': function(obj, v){return obj.field4 = v},\n    'field5': function(obj, v){return obj.field5 = v},\n    'field6': function(obj, v){return obj.field6 = v},\n    'field7': function(obj, v){return obj.field7 = v},\n    'field8': function(obj, v){return obj.field8 = v},\n    'field9': function(obj, v){return obj.field9 = v}\n  });\n}\n\nfunction setUpBaseline(iterations) {\n  function createRow(i) {\n    var obj = new Obj();\n    var index = i % 10;\n    obj.setField(index, i);\n\n    var r = new Row();\n    r.obj = obj;\n    r.previousValue = i;\n    r.getter = reflector.getter(`field${index}`);\n    return r;\n  }\n\n  var head = createRow(0);\n  var current = head;\n  for (var i = 1; i < iterations; i++) {\n    var newRow = createRow(i);\n    current.next = newRow;\n    current = newRow;\n  }\n  return head;\n}\n\nfunction setUpChangeDetection(iterations) {\n  var dispatcher = new DummyDispatcher();\n  var parser = new Parser(new Lexer());\n\n  var parentProto = new ProtoRecordRange();\n  var parentRange = parentProto.instantiate(dispatcher, MapWrapper.create());\n\n  var astWithSource = [\n    parser.parseBinding('field0', null),\n    parser.parseBinding('field1', null),\n    parser.parseBinding('field2', null),\n    parser.parseBinding('field3', null),\n    parser.parseBinding('field4', null),\n    parser.parseBinding('field5', null),\n    parser.parseBinding('field6', null),\n    parser.parseBinding('field7', null),\n    parser.parseBinding('field8', null),\n    parser.parseBinding('field9', null)\n  ];\n\n  function proto(i) {\n    var prr = new ProtoRecordRange();\n    prr.addRecordsFromAST(astWithSource[i % 10].ast, \"memo\", i, false);\n    return prr;\n  }\n\n  var prr = [\n    proto(0),\n    proto(1),\n    proto(2),\n    proto(3),\n    proto(4),\n    proto(5),\n    proto(6),\n    proto(7),\n    proto(8),\n    proto(9)\n  ];\n\n  for (var i = 0; i < iterations; ++i) {\n    var obj = new Obj();\n    var index = i % 10;\n    obj.setField(index, i);\n\n    var rr = prr[index].instantiate(dispatcher,  null);\n    rr.setContext(obj);\n\n    parentRange.addRange(rr);\n  }\n\n  return new ChangeDetector(parentRange);\n}\n\nexport function main () {\n  var iterations = getIntParameter('iterations');\n\n  setUpReflector();\n  var baselineHead = setUpBaseline(iterations);\n  var ng2ChangeDetector = setUpChangeDetection(iterations);\n\n  function baselineDetectChanges() {\n    var current = baselineHead;\n    while (isPresent(current)) {\n      if (current.getter(current.obj) !== current.previousValue) {\n        throw \"should not happen\";\n      }\n      current = current.next;\n    }\n  }\n\n  function ng2DetectChanges() {\n    ng2ChangeDetector.detectChanges();\n  }\n\n  bindAction('#ng2DetectChanges', ng2DetectChanges);\n  bindAction('#baselineDetectChanges', baselineDetectChanges);\n}\n\n\nclass DummyDispatcher extends ChangeDispatcher {\n  onRecordChange(record, context) {\n  }\n}\n","\n        $__export($__placeholder__0, $__placeholder__1)\n      ","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function(m) {\n          $__placeholder__0\n        }","$__placeholder__0 = m.$__placeholder__1;","$__placeholder__0 = $__placeholder__1","function() {\n          var $__placeholder__0 = $__placeholder__1;\n          return ($traceurRuntime.createClass)($__placeholder__2, $__placeholder__3,\n                                               $__placeholder__4);\n        }()","function($__super) {\n          var $__placeholder__0 = $__placeholder__1;\n          return ($traceurRuntime.createClass)($__placeholder__2, $__placeholder__3,\n                                               $__placeholder__4, $__super);\n        }($__placeholder__5)","$traceurRuntime.superConstructor(\n          $__placeholder__0).apply(this, arguments)"]}