{"version":3,"file":"/Users/deast/Angular/angular/modules/core/src/application.js","sources":["@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/12","application.js","@traceur/generated/TemplateParser/22","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/2"],"names":[],"mappings":"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","sourceRoot":"/Users/deast/Angular/angular/modules/core/src/","sourcesContent":["System.register($__placeholder__0, $__placeholder__1, function($__export) {\n          $__placeholder__2\n        });","var __moduleName = $__placeholder__0;","import {Injector, bind, OpaqueToken} from 'di/di';\nimport {Type, FIELD, isBlank, isPresent, BaseException, assertionsEnabled, print} from 'facade/lang';\nimport {DOM, Element} from 'facade/dom';\nimport {Compiler, CompilerCache} from './compiler/compiler';\nimport {ProtoView} from './compiler/view';\nimport {Reflector, reflector} from 'reflection/reflection';\nimport {Parser, Lexer, ChangeDetector, RecordRange} from 'change_detection/change_detection';\nimport {TemplateLoader} from './compiler/template_loader';\nimport {DirectiveMetadataReader} from './compiler/directive_metadata_reader';\nimport {DirectiveMetadata} from './compiler/directive_metadata';\nimport {List, ListWrapper} from 'facade/collection';\nimport {PromiseWrapper} from 'facade/async';\nimport {VmTurnZone} from 'core/zone/vm_turn_zone';\nimport {LifeCycle} from 'core/life_cycle/life_cycle';\n\nvar _rootInjector: Injector;\n\n// Contains everything that is safe to share between applications.\nvar _rootBindings = [\n  bind(Reflector).toValue(reflector), Compiler, CompilerCache, TemplateLoader, DirectiveMetadataReader, Parser, Lexer\n];\n\nexport var appViewToken = new OpaqueToken('AppView');\nexport var appRecordRangeToken = new OpaqueToken('AppRecordRange');\nexport var appElementToken = new OpaqueToken('AppElement');\nexport var appComponentAnnotatedTypeToken = new OpaqueToken('AppComponentAnnotatedType');\nexport var appDocumentToken = new OpaqueToken('AppDocument');\n\nfunction _injectorBindings(appComponentType) {\n  return [\n      bind(appDocumentToken).toValue(DOM.defaultDoc()),\n      bind(appComponentAnnotatedTypeToken).toFactory((reader) => {\n        // TODO(rado): inspect annotation here and warn if there are bindings,\n        // lightDomServices, and other component annotations that are skipped\n        // for bootstrapping components.\n        return reader.read(appComponentType);\n      }, [DirectiveMetadataReader]),\n\n      bind(appElementToken).toFactory((appComponentAnnotatedType, appDocument) => {\n        var selector = appComponentAnnotatedType.annotation.selector;\n        var element = DOM.querySelector(appDocument, selector);\n        if (isBlank(element)) {\n          throw new BaseException(`The app selector \"${selector}\" did not match any elements`);\n        }\n        return element;\n      }, [appComponentAnnotatedTypeToken, appDocumentToken]),\n\n      bind(appViewToken).toAsyncFactory((compiler, injector, appElement,\n            appComponentAnnotatedType) => {\n        return compiler.compile(appComponentAnnotatedType.type, null).then(\n            (protoView) => {\n          var appProtoView = ProtoView.createRootProtoView(protoView,\n              appElement, appComponentAnnotatedType);\n          // The light Dom of the app element is not considered part of\n          // the angular application. Thus the context and lightDomInjector are\n          // empty.\n          var view = appProtoView.instantiate(null);\n          view.hydrate(injector, null, new Object());\n          return view;\n        });\n      }, [Compiler, Injector, appElementToken, appComponentAnnotatedTypeToken]),\n\n      bind(appRecordRangeToken).toFactory((rootView) => rootView.recordRange,\n          [appViewToken]),\n      bind(ChangeDetector).toFactory((appRecordRange) =>\n          new ChangeDetector(appRecordRange, assertionsEnabled()), [appRecordRangeToken]),\n      bind(appComponentType).toFactory((rootView) => rootView.elementInjectors[0].getComponent(),\n          [appViewToken]),\n      bind(LifeCycle).toClass(LifeCycle)\n  ];\n}\n\nfunction _createVmZone(givenReporter:Function){\n  var defaultErrorReporter = (exception, stackTrace) => {\n    var longStackTrace = ListWrapper.join(stackTrace, \"\\n\\n-----async gap-----\\n\");\n    print(`${exception}\\n\\n${longStackTrace}`);\n    throw exception;\n  };\n\n  var reporter = isPresent(givenReporter) ? givenReporter : defaultErrorReporter;\n\n  var zone = new VmTurnZone({enableLongStackTrace: assertionsEnabled()});\n  zone.initCallbacks({onErrorHandler: reporter});\n  return zone;\n}\n\n// Multiple calls to this method are allowed. Each application would only share\n// _rootInjector, which is not user-configurable by design, thus safe to share.\nexport function bootstrap(appComponentType: Type, bindings=null, givenBootstrapErrorReporter=null) {\n  var bootstrapProcess = PromiseWrapper.completer();\n\n  var zone = _createVmZone(givenBootstrapErrorReporter);\n  zone.run(() => {\n    // TODO(rado): prepopulate template cache, so applications with only\n    // index.html and main.js are possible.\n\n    var appInjector = _createAppInjector(appComponentType, bindings);\n\n    PromiseWrapper.then(appInjector.asyncGet(LifeCycle),\n      (lc) => {\n        lc.registerWith(zone);\n        lc.tick(); //the first tick that will bootstrap the app\n\n        bootstrapProcess.complete(appInjector);\n      },\n\n      (err) => {\n        bootstrapProcess.reject(err)\n      });\n  });\n\n  return bootstrapProcess.promise;\n}\n\nfunction _createAppInjector(appComponentType: Type, bindings: List): Injector {\n  if (isBlank(_rootInjector)) _rootInjector = new Injector(_rootBindings);\n  var mergedBindings = isPresent(bindings) ?\n      ListWrapper.concat(_injectorBindings(appComponentType), bindings) :\n      _injectorBindings(appComponentType);\n  return _rootInjector.createChild(mergedBindings);\n}\n","\n        $__export($__placeholder__0, $__placeholder__1)\n      ","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function(m) {\n          $__placeholder__0\n        }","$__placeholder__0 = m.$__placeholder__1;","$__export($__placeholder__0, $__placeholder__1)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});"]}