{"version":3,"file":"/Users/deast/Angular/angular/modules/core/src/compiler/pipeline/compile_element.js","sources":["@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/12","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/7","@traceur/generated/TemplateParser/14","compile_element.js","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/0"],"names":[],"mappings":"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","sourceRoot":"/Users/deast/Angular/angular/modules/core/src/compiler/pipeline/","sourcesContent":["System.register($__placeholder__0, $__placeholder__1, function($__export) {\n          $__placeholder__2\n        });","var __moduleName = $__placeholder__0;","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function(m) {\n          $__placeholder__0\n        }","$__placeholder__0 = m.$__placeholder__1;","var $__placeholder__0 = $__export($__placeholder__1, $__placeholder__2);","function() {\n          var $__placeholder__0 = $__placeholder__1;\n          return ($traceurRuntime.createClass)($__placeholder__2, $__placeholder__3,\n                                               $__placeholder__4);\n        }()","import {List, Map, ListWrapper, MapWrapper} from 'facade/collection';\nimport {Element, DOM} from 'facade/dom';\nimport {int, isBlank, isPresent} from 'facade/lang';\nimport {DirectiveMetadata} from '../directive_metadata';\nimport {Decorator} from '../../annotations/annotations';\nimport {Component} from '../../annotations/annotations';\nimport {Template} from '../../annotations/annotations';\nimport {ElementBinder} from '../element_binder';\nimport {ProtoElementInjector} from '../element_injector';\nimport {ProtoView} from '../view';\n\nimport {ASTWithSource} from 'change_detection/change_detection';\n\n/**\n * Collects all data that is needed to process an element\n * in the compile process. Fields are filled\n * by the CompileSteps starting out with the pure HTMLElement.\n */\nexport class CompileElement {\n  element:Element;\n  _attrs:Map;\n  _classList:List;\n  textNodeBindings:Map;\n  propertyBindings:Map;\n  eventBindings:Map;\n  variableBindings:Map;\n  decoratorDirectives:List<DirectiveMetadata>;\n  templateDirective:DirectiveMetadata;\n  componentDirective:DirectiveMetadata;\n  isViewRoot:boolean;\n  hasBindings:boolean;\n  inheritedProtoView:ProtoView;\n  inheritedProtoElementInjector:ProtoElementInjector;\n  inheritedElementBinder:ElementBinder;\n  distanceToParentInjector:number;\n  compileChildren: boolean;\n  constructor(element:Element) {\n    this.element = element;\n    this._attrs = null;\n    this._classList = null;\n    this.textNodeBindings = null;\n    this.propertyBindings = null;\n    this.eventBindings = null;\n    this.variableBindings = null;\n    this.decoratorDirectives = null;\n    this.templateDirective = null;\n    this.componentDirective = null;\n    this.isViewRoot = false;\n    this.hasBindings = false;\n    // inherited down to children if they don't have\n    // an own protoView\n    this.inheritedProtoView = null;\n    // inherited down to children if they don't have\n    // an own protoElementInjector\n    this.inheritedProtoElementInjector = null;\n    // inherited down to children if they don't have\n    // an own elementBinder\n    this.inheritedElementBinder = null;\n    this.distanceToParentInjector = 0;\n    this.compileChildren = true;\n  }\n\n  refreshAttrs() {\n    this._attrs = null;\n  }\n\n  attrs():Map<string,string> {\n    if (isBlank(this._attrs)) {\n      this._attrs = DOM.attributeMap(this.element);\n    }\n    return this._attrs;\n  }\n\n  refreshClassList() {\n    this._classList = null;\n  }\n\n  classList():List<string> {\n    if (isBlank(this._classList)) {\n      this._classList = ListWrapper.create();\n      var elClassList = DOM.classList(this.element);\n      for (var i = 0; i < elClassList.length; i++) {\n        ListWrapper.push(this._classList, elClassList[i]);\n      }\n    }\n    return this._classList;\n  }\n\n  addTextNodeBinding(indexInParent:int, expression:ASTWithSource) {\n    if (isBlank(this.textNodeBindings)) {\n      this.textNodeBindings = MapWrapper.create();\n    }\n    MapWrapper.set(this.textNodeBindings, indexInParent, expression);\n  }\n\n  addPropertyBinding(property:string, expression:ASTWithSource) {\n    if (isBlank(this.propertyBindings)) {\n      this.propertyBindings = MapWrapper.create();\n    }\n    MapWrapper.set(this.propertyBindings, property, expression);\n  }\n\n  addVariableBinding(contextName:string, templateName:string) {\n    if (isBlank(this.variableBindings)) {\n      this.variableBindings = MapWrapper.create();\n    }\n    MapWrapper.set(this.variableBindings, contextName, templateName);\n  }\n\n  addEventBinding(eventName:string, expression:ASTWithSource) {\n    if (isBlank(this.eventBindings)) {\n      this.eventBindings = MapWrapper.create();\n    }\n    MapWrapper.set(this.eventBindings, eventName, expression);\n  }\n\n  addDirective(directive:DirectiveMetadata) {\n    var annotation = directive.annotation;\n    if (annotation instanceof Decorator) {\n      if (isBlank(this.decoratorDirectives)) {\n        this.decoratorDirectives = ListWrapper.create();\n      }\n      ListWrapper.push(this.decoratorDirectives, directive);\n      if (!annotation.compileChildren) {\n        this.compileChildren = false;\n      }\n    } else if (annotation instanceof Template) {\n      this.templateDirective = directive;\n    } else if (annotation instanceof Component) {\n      this.componentDirective = directive;\n    }\n  }\n}\n","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});","$traceurRuntime.type.$__placeholder__0)"]}