{"version":3,"file":"/Users/deast/Angular/angular/modules/core/src/compiler/pipeline/proto_view_builder.js","sources":["@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/12","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/7","@traceur/generated/TemplateParser/20","proto_view_builder.js","@traceur/generated/TemplateParser/23","@traceur/generated/TemplateParser/2"],"names":[],"mappings":"AAAA,KAAK,SAAS,AAAC,+LAAuC,UAAS,SAAQ;;ACAvE,AAAI,IAAA,CAAA,YAAW,8CAAoB,CAAC;;;;;;;;;;;ACApC,OAAO;AACD,UAAM,GCDZ,SAAS,CAAA;ACAT,gBAAoB,EAAA,UAAkB,CAAC;AAAvC,oBAAoB,EAAA,cAAkB,CAAC;IDE/B,CAFR,UAAS,CAAA;ACAT,kBAAoB,EAAA,YAAkB,CAAC;AAAvC,iBAAoB,EAAA,WAAkB,CAAC;IDE/B,CAFR,UAAS,CAAA,CAAG;ACAZ,gBAAoB,EAAA,UAAkB,CAAC;IDE/B,CAFR,UAAS,CAAA,CAAG;ACAZ,uBAAoB,EAAA,iBAAkB,CAAC;IDE/B,CAFR,UAAS,CAAA,CAAG;ACAZ,kBAAoB,EAAA,YAAkB,CAAC;IDE/B,CAFR,UAAS,CAAA,CAAG;ACAZ,qBAAoB,EAAA,eAAkB,CAAC;IDE/B,CAFR,UAAS,CAAA,CAAG;ACAZ,qBAAoB,EAAA,eAAkB,CAAC;IDE/B,CDDuB;AACzB,UAAM;uBGFY,CAAA,SAAQ,AAAC,sBCAjC,SAAS,QAAO;AACN,AAAI,UAAA,mBCkBP,SAAM,iBAAe;ACnB5B,wBAAc,iBAAiB,AAAC,kBACL,MAAM,AAAC,CAAC,IAAG,CAAG,UAAQ,CAAC,CAAA;QFAA,ACuClD,CDvCmD;AACzC,aAAO,CAAA,CAAC,eAAc,YAAY,CAAC,AAAC,oBCkB5C,OAAM,CAAN,UAAQ,MAAK,AAAe,CAAG,CAAA,OAAM,AAAe,CAAG,CAAA,OAAM,AAAe;AAC1E,AAAI,cAAA,CAAA,kBAAiB,EAAI,KAAG,CAAC;AAC7B,eAAI,OAAM,WAAW,CAAG;AACtB,+BAAiB,EAAI,IAAI,UAAQ,AAAC,CAAC,OAAM,QAAQ,CAAG,IAAI,iBAAe,AAAC,EAAC,CAAC,CAAC;AAC3E,iBAAI,SAAQ,AAAC,CAAC,MAAK,CAAC,CAAG;AACrB,mBAAI,SAAQ,AAAC,CAAC,MAAK,uBAAuB,gBAAgB,CAAC,CAAG;AAC5D,sBAAM,IAAI,cAAY,AAAC,CAAC,6CAA4C,CAAC,CAAC;gBACxE;AAAA,AACA,qBAAK,uBAAuB,gBAAgB,EAAI,mBAAiB,CAAC;AAClE,mBAAI,SAAQ,AAAC,CAAC,MAAK,iBAAiB,CAAC,CAAG;AACtC,2BAAS,QAAQ,AAAC,CAAC,MAAK,iBAAiB,GAAG,SAAC,UAAS,CAAG,CAAA,OAAM,CAAM;AACnE,qCAAiB,aAAa,AAAC,CAAC,OAAM,CAAG,WAAS,CAAC,CAAC;kBACtD,EAAC,CAAC;gBACJ;AAAA,cACF;AAAA,YACF,KAAO,KAAI,SAAQ,AAAC,CAAC,MAAK,CAAC,CAAG;AAC5B,+BAAiB,EAAI,CAAA,MAAK,mBAAmB,CAAC;YAChD;AAAA,AACA,kBAAM,mBAAmB,EAAI,mBAAiB,CAAC;UACjD,MDpCgE,SAAO,CAAC,CAAC;MACnE,AAAC,CCe6B,WAAU,CDfrB,EDJ2C;AIAtE,WAAK,eAAe,AAAC,kDACb,EAAC,GAAE,CAAG,UAAQ,AAAC,CAAE;AAAC,kBFmBT,cAAa,IAAW,cAAa,IAAW,cAAa,GEnB7B;QAAC,CAAC,CAAC,CAAC;IPCtB;EAC3B,CAAA;AFDI,CAAC,CAAC;AOuCV","sourceRoot":"/Users/deast/Angular/angular/modules/core/src/compiler/pipeline/","sourcesContent":["System.register($__placeholder__0, $__placeholder__1, function($__export) {\n          $__placeholder__2\n        });","var __moduleName = $__placeholder__0;","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function(m) {\n          $__placeholder__0\n        }","$__placeholder__0 = m.$__placeholder__1;","var $__placeholder__0 = $__export($__placeholder__1, $__placeholder__2);","function($__super) {\n          var $__placeholder__0 = $__placeholder__1;\n          return ($traceurRuntime.createClass)($__placeholder__2, $__placeholder__3,\n                                               $__placeholder__4, $__super);\n        }($__placeholder__5)","import {isPresent, BaseException} from 'facade/lang';\nimport {ListWrapper, MapWrapper} from 'facade/collection';\n\nimport {ProtoView} from '../view';\nimport {ProtoRecordRange} from 'change_detection/change_detection';\n\nimport {CompileStep} from './compile_step';\nimport {CompileElement} from './compile_element';\nimport {CompileControl} from './compile_control';\n\n/**\n * Fills:\n * - (in parent): CompileElement#inheritedElementBinder.nestedProtoView\n * - CompileElement#inhertiedViewRoot\n *\n * Reads:\n * - (in parent): CompileElement#inhertiedViewRoot\n * - CompileElement#isViewRoot\n */\nexport class ProtoViewBuilder extends CompileStep {\n  process(parent:CompileElement, current:CompileElement, control:CompileControl) {\n    var inheritedProtoView = null;\n    if (current.isViewRoot) {\n      inheritedProtoView = new ProtoView(current.element, new ProtoRecordRange());\n      if (isPresent(parent)) {\n        if (isPresent(parent.inheritedElementBinder.nestedProtoView)) {\n          throw new BaseException('Only one nested view per element is allowed');\n        }\n        parent.inheritedElementBinder.nestedProtoView = inheritedProtoView;\n        if (isPresent(parent.variableBindings)) {\n          MapWrapper.forEach(parent.variableBindings, (mappedName, varName) => {\n            inheritedProtoView.bindVariable(varName, mappedName);\n          });\n        }\n      }\n    } else if (isPresent(parent)) {\n      inheritedProtoView = parent.inheritedProtoView;\n    }\n    current.inheritedProtoView = inheritedProtoView;\n  }\n}\n","$traceurRuntime.superConstructor(\n          $__placeholder__0).apply(this, arguments)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});"]}