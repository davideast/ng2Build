{"version":3,"file":"/Users/deast/Angular/angular/modules/core/src/compiler/pipeline/text_interpolation_parser.js","sources":["@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/12","text_interpolation_parser.js","@traceur/generated/TemplateParser/22","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/0","@traceur/generated/TemplateParser/7","@traceur/generated/TemplateParser/20"],"names":[],"mappings":"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","sourceRoot":"/Users/deast/Angular/angular/modules/core/src/compiler/pipeline/","sourcesContent":["System.register($__placeholder__0, $__placeholder__1, function($__export) {\n          $__placeholder__2\n        });","var __moduleName = $__placeholder__0;","import {RegExpWrapper, StringWrapper, isPresent} from 'facade/lang';\nimport {Node, DOM} from 'facade/dom';\n\nimport {Parser} from 'change_detection/change_detection';\n\nimport {CompileStep} from './compile_step';\nimport {CompileElement} from './compile_element';\nimport {CompileControl} from './compile_control';\n\n// TODO(tbosch): Cannot make this const/final right now because of the transpiler...\nvar INTERPOLATION_REGEXP = RegExpWrapper.create('\\\\{\\\\{(.*?)\\\\}\\\\}');\nvar QUOTE_REGEXP = RegExpWrapper.create(\"'\");\n\nexport function interpolationToExpression(value:string):string {\n  // TODO: add stringify formatter when we support formatters\n  var parts = StringWrapper.split(value, INTERPOLATION_REGEXP);\n  if (parts.length <= 1) {\n    return null;\n  }\n  var expression = '';\n  for (var i=0; i<parts.length; i++) {\n    var expressionPart = null;\n    if (i%2 === 0) {\n      // fixed string\n      if (parts[i].length > 0) {\n        expressionPart = \"'\" + StringWrapper.replaceAll(parts[i], QUOTE_REGEXP, \"\\\\'\") + \"'\";\n      }\n    } else {\n      // expression\n      expressionPart = \"(\" + parts[i] + \")\";\n    }\n    if (isPresent(expressionPart)) {\n      if (expression.length > 0) {\n        expression += '+';\n      }\n      expression += expressionPart;\n    }\n  }\n  return expression;\n}\n\n/**\n * Parses interpolations in direct text child nodes of the current element.\n *\n * Fills:\n * - CompileElement#textNodeBindings\n */\nexport class TextInterpolationParser extends CompileStep {\n  _parser:Parser;\n  _compilationUnit:any;\n  constructor(parser:Parser, compilationUnit:any) {\n    this._parser = parser;\n    this._compilationUnit = compilationUnit;\n  }\n\n  process(parent:CompileElement, current:CompileElement, control:CompileControl) {\n    if (!current.compileChildren) {\n      return;\n    }\n    var element = current.element;\n    var childNodes = DOM.templateAwareRoot(element).childNodes;\n    for (var i=0; i<childNodes.length; i++) {\n      var node = childNodes[i];\n      if (node.nodeType === Node.TEXT_NODE) {\n        this._parseTextNode(current, node, i);\n      }\n    }\n  }\n\n  _parseTextNode(pipelineElement, node, nodeIndex) {\n    var expression = interpolationToExpression(node.nodeValue);\n    if (isPresent(expression)) {\n      DOM.setText(node, ' ');\n      pipelineElement.addTextNodeBinding(nodeIndex, this._parser.parseBinding(expression, this._compilationUnit));\n    }\n  }\n}\n","\n        $__export($__placeholder__0, $__placeholder__1)\n      ","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function(m) {\n          $__placeholder__0\n        }","$__placeholder__0 = m.$__placeholder__1;","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});","$traceurRuntime.type.$__placeholder__0)","var $__placeholder__0 = $__export($__placeholder__1, $__placeholder__2);","function($__super) {\n          var $__placeholder__0 = $__placeholder__1;\n          return ($traceurRuntime.createClass)($__placeholder__2, $__placeholder__3,\n                                               $__placeholder__4, $__super);\n        }($__placeholder__5)"]}