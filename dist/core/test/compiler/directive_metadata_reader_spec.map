{"version":3,"file":"/Users/deast/Angular/angular/modules/core/test/compiler/directive_metadata_reader_spec.js","sources":["@traceur/generated/TemplateParser/13","@traceur/generated/TemplateParser/12","directive_metadata_reader_spec.js","@traceur/generated/TemplateParser/22","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/14"],"names":[],"mappings":"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","sourceRoot":"/Users/deast/Angular/angular/modules/core/test/compiler/","sourcesContent":["System.register($__placeholder__0, $__placeholder__1, function($__export) {\n          $__placeholder__2\n        });","var __moduleName = $__placeholder__0;","import {ddescribe, describe, it, iit, expect, beforeEach} from 'test_lib/test_lib';\nimport {DirectiveMetadataReader} from 'core/compiler/directive_metadata_reader';\nimport {Decorator, Component} from 'core/annotations/annotations';\nimport {TemplateConfig} from 'core/annotations/template_config';\nimport {DirectiveMetadata} from 'core/compiler/directive_metadata';\nimport {ShadowDomStrategy, ShadowDomNative} from 'core/compiler/shadow_dom';\nimport {CONST} from 'facade/lang';\n\n\nclass FakeShadowDomStrategy extends ShadowDomStrategy {\n  @CONST()\n  constructor() {}\n\n  polyfillDirectives() {\n    return [SomeDirective];\n  }\n}\n\n@Decorator({\n  selector: 'someSelector'\n})\nclass SomeDirective {\n}\n\n@Component({\n  selector: 'someSelector'\n})\nclass ComponentWithoutExplicitShadowDomStrategy {}\n\n@Component({\n  selector: 'someSelector',\n  shadowDom: new FakeShadowDomStrategy()\n})\nclass ComponentWithExplicitShadowDomStrategy {}\n\nclass SomeDirectiveWithoutAnnotation {\n}\n\n@Component({\n  selector: 'withoutDirectives'\n})\nclass ComponentWithoutDirectives {}\n\n@Component({\n  selector: 'withDirectives',\n  template: new TemplateConfig({\n    directives: [ComponentWithoutDirectives]\n  })\n})\nclass ComponentWithDirectives {}\n\n\n\nexport function main() {\n  describe(\"DirectiveMetadataReader\", () => {\n    var reader;\n\n    beforeEach( () => {\n      reader = new DirectiveMetadataReader();\n    });\n\n    it('should read out the annotation', () => {\n      var directiveMetadata = reader.read(SomeDirective);\n      expect(directiveMetadata).toEqual(\n        new DirectiveMetadata(SomeDirective, new Decorator({selector: 'someSelector'}), null, null));\n    });\n\n    it('should throw if not matching annotation is found', () => {\n      expect(() => {\n        reader.read(SomeDirectiveWithoutAnnotation);\n      }).toThrowError('No Directive annotation found on SomeDirectiveWithoutAnnotation');\n    });\n\n    describe(\"shadow dom strategy\", () => {\n      it('should return the provided shadow dom strategy when it is present', () => {\n        var directiveMetadata = reader.read(ComponentWithExplicitShadowDomStrategy);\n        expect(directiveMetadata.shadowDomStrategy).toBeAnInstanceOf(FakeShadowDomStrategy);\n      });\n\n      it('should return Native otherwise', () => {\n        var directiveMetadata = reader.read(ComponentWithoutExplicitShadowDomStrategy);\n        expect(directiveMetadata.shadowDomStrategy).toEqual(ShadowDomNative);\n      });\n    });\n\n    describe(\"componentDirectives\", () => {\n      it(\"should return an empty list when no directives specified\", () => {\n        var cmp = reader.read(ComponentWithoutDirectives);\n        expect(cmp.componentDirectives).toEqual([]);\n      });\n\n      it(\"should return a list of directives specified in the template config\", () => {\n        var cmp = reader.read(ComponentWithDirectives);\n        expect(cmp.componentDirectives).toEqual([ComponentWithoutDirectives]);\n      });\n\n      it(\"should include directives required by the shadow DOM strategy\", () => {\n        var cmp = reader.read(ComponentWithExplicitShadowDomStrategy);\n        expect(cmp.componentDirectives).toEqual([SomeDirective]);\n      });\n    });\n  });\n}","\n        $__export($__placeholder__0, $__placeholder__1)\n      ","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function(m) {\n          $__placeholder__0\n        }","$__placeholder__0 = m.$__placeholder__1;","$__placeholder__0 = $__placeholder__1","function($__super) {\n          var $__placeholder__0 = $__placeholder__1;\n          return ($traceurRuntime.createClass)($__placeholder__2, $__placeholder__3,\n                                               $__placeholder__4, $__super);\n        }($__placeholder__5)","Object.defineProperty($__placeholder__0, $__placeholder__1,\n        {get: function() {return $__placeholder__2}});","function() {\n          var $__placeholder__0 = $__placeholder__1;\n          return ($traceurRuntime.createClass)($__placeholder__2, $__placeholder__3,\n                                               $__placeholder__4);\n        }()"]}