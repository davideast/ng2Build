<html>
<head>
  <title>ngBuild</title>
</head>
<body>
  <hello-app>

  </hello-app>
  <script src="/traceur.js"></script>
  <script src="/deps/traceur-runtime.js" type="text/javascript"></script>
  <script src="/rtts_assert/lib/rtts_assert.js" type="text/javascript"></script>
  <script src="/deps/es6-module-loader-sans-promises.src.js" type="text/javascript"></script>
  <script src="/deps/zone.js" type="text/javascript"></script>
  <script src="/deps/long-stack-trace-zone.js" type="text/javascript"></script>
  <script src="/deps/system.src.js" type="text/javascript"></script>
  <script src="/deps/extension-register.js" type="text/javascript"></script>
  <script src="/deps/runtime_paths.js" type="text/javascript"></script>
  <script>
    new traceur.WebPageTranscoder(document.location.href).run();
    $traceurRuntime.options.types = true;
    $traceurRuntime.options.annotations = true;
    $traceurRuntime.options.memberVariables = true;
  </script>
  <script type="module">
    System.import('core/core')
    .then((ng) => {
      console.log('^-- Those errors are from the first processing without Traceur. Please ignore me, I will be fixed soon.');
      @ng.Component({
        selector: 'hello-app',
        componentServices: [GreetingService],
        template: new ng.TemplateConfig({
          inline: `
          <div class="greeting">
        {{greeting}}
        <span red>world</span>!
        </div>
        <button class="changeButton" (click)="changeGreeting()">change greeting</button>
        `,
        directives: [RedDec]
      })
    })
    class HelloCmp {
      greeting: string;
      constructor(service: GreetingService) {
        this.greeting = service.greeting;
      }
      changeGreeting() {
        this.greeting = 'howdy';
      }
    }

    @ng.Decorator({
      selector: '[red]'
    })
    class RedDec {
      constructor(el: ng.NgElement) {
        el.domElement.style.color = 'red';
      }
    }

    // A service used by the HelloCmp component.
    class GreetingService {
      greeting:string;
      constructor() {
        this.greeting = 'hello';
      }
    }

    ng.bootstrap(HelloCmp);
  });
  </script>
  </body>
</html>
